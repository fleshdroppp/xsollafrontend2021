(this.webpackJsonpxsollafrontendschool2021=this.webpackJsonpxsollafrontendschool2021||[]).push([[0],{10:function(e,t,n){e.exports={container:"App_container__1MQN3",events__container:"App_events__container__1monq",empty__events:"App_empty__events__sKl4l"}},11:function(e,t,n){e.exports={events__filter:"Filter_events__filter__1Pzve",events__filter__title:"Filter_events__filter__title__2VUct",events__filter__selector:"Filter_events__filter__selector__2EEIH"}},12:function(e,t,n){e.exports={events__filters:"Filters_events__filters__1i8Ei",events__filters__reset:"Filters_events__filters__reset__leEGC",events__filters_favourite:"Filters_events__filters_favourite__jHP9V"}},15:function(e,t,n){e.exports={loader:"Loader_loader__1j2Bs",ldsring:"Loader_ldsring__2tkkm"}},26:function(e,t,n){e.exports={events__header:"Header_events__header__29t6t"}},27:function(e,t,n){e.exports={events:"Events_events__1tkyw"}},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n(24),r=n.n(i),a=n(14),c=n.n(a),o=n(25),l=n(3),_=n(10),v=n.n(_),u=n(26),d=n.n(u),j=n(0),f=function(){return Object(j.jsx)("div",{className:d.a.events__header,children:Object(j.jsx)("p",{children:"Event Listing"})})},b=n(4),O=n(11),x=n.n(O),p=function(e){var t=e.title,n=e.options,s=e.param,i=e.value,r=e.onChange,a={"01":"January","02":"Febuary","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"};return Object(j.jsxs)("div",{className:x.a.events__filter,children:[Object(j.jsx)("div",{className:x.a.events__filter__title,children:Object(j.jsxs)("p",{children:[t,":"]})}),Object(j.jsx)("select",{value:i,onChange:function(e){return r(e.target.value)},className:x.a.events__filter__selector,children:0!==n.length?function(e,t){return e="date"===t?e.map((function(e,t){return Object(j.jsx)("option",{value:e,children:a[e]},t)})):e.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))}(n,s):Object(j.jsx)("option",{children:"Unavailable!"})})]})},h=n(12),m=n.n(h),g=function(e){var t=e.events,n=e.setEvents,i=e.favouritesId,r=e.setFilteredEvents,a=Object(s.useState)(t[0].date.slice(3,5)),c=Object(l.a)(a,2),o=c[0],_=c[1],v=Object(s.useState)(t[0].city),u=Object(l.a)(v,2),d=u[0],f=u[1],O=Object(s.useState)(!1),x=Object(l.a)(O,2),h=x[0],g=x[1],N=function(e){r(e?Object(b.a)(t).filter((function(e){return t=e.id,-1!==i.indexOf(t);var t})):Object(b.a)(t)),g(!h)},y=function(e,t){var n=[];return(n="date"===t?e.map((function(e){return e[t].slice(3,5)})):e.map((function(e){return e[t]}))).filter((function(e,t){return n.indexOf(e)===t}))};return Object(j.jsxs)("div",{className:m.a.events__filters,children:[Object(j.jsx)(p,{title:"City",param:"city",options:y(t,"city"),value:d,onChange:function(e){f(e),console.log(e,o),r(Object(b.a)(t).filter((function(t){return t.date.slice(3,5)===o&&t.city===e})))}}),Object(j.jsx)(p,{title:"Month",param:"date",options:y(t,"date"),value:o,onChange:function(e){_(e),console.log(d,e),r(Object(b.a)(t).filter((function(t){return t.date.slice(3,5)===e&&t.city===d})))}}),Object(j.jsxs)("div",{className:m.a.events__filters_favourite,children:[Object(j.jsx)("label",{htmlFor:"favourite",children:"Favourite"}),Object(j.jsx)("input",{checked:h,onChange:function(e){return N(e.target.checked)},type:"checkbox",id:"favourite"})]}),Object(j.jsx)("button",{className:m.a.events__filters__reset,onClick:function(){n(t),_(""),f(""),g("")},children:"Reset filters"})]})},N=n.p+"static/media/favourie.405cea49.svg",y=n.p+"static/media/isFavourite.e1bc097d.svg",I=n(6),E=n.n(I),F=function(e){var t=e.event,n=e.favouritesId,s=e.setFavouritesId;return Object(j.jsxs)("div",{className:E.a.event,style:{backgroundImage:"url(".concat(t.image,")")},children:[Object(j.jsx)("div",{onClick:function(e){return function(e){-1!==n.indexOf(e)?(n=n.filter((function(t){return t!==e})),s(n),localStorage.setItem("favouritesId",JSON.stringify(n))):(s([].concat(Object(b.a)(n),[e])),localStorage.setItem("favouritesId",JSON.stringify([].concat(Object(b.a)(n),[e]))))}(e.target.id)},className:E.a.event__favourite,children:-1!==n.indexOf(t.id)?Object(j.jsx)("img",{id:t.id,src:y,alt:"favourite button"}):Object(j.jsx)("img",{id:t.id,src:N,alt:"favourite button"})}),Object(j.jsx)("div",{className:E.a.event__date,children:Object(j.jsx)("p",{children:t.date.slice(0,2)})}),Object(j.jsx)("p",{className:E.a.event__title,children:t.name})]})},S=n(27),k=n.n(S),C=function(e){var t=e.events,n=e.favouritesId,s=e.setFavouritesId;return Object(j.jsx)("div",{className:k.a.events,children:t.map((function(e){return Object(j.jsx)(F,{favouritesId:n,setFavouritesId:s,event:e},e.id)}))})},J=n(28),w=n.n(J),A=n(15),M=n.n(A),H=function(){return Object(j.jsx)("div",{className:M.a.loader,children:Object(j.jsxs)("div",{className:M.a.ldsring,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})};var L=function(){Object(s.useEffect)((function(){y()}),[]);var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(s.useState)([]),a=Object(l.a)(r,2),_=a[0],u=a[1],d=Object(s.useState)(JSON.parse(localStorage.getItem("favouritesId"))||[]),b=Object(l.a)(d,2),O=b[0],x=b[1],p=Object(s.useState)(!0),h=Object(l.a)(p,2),m=h[0],N=h[1],y=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json");case 2:t=e.sent,i(t.data),u(t.data),N(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:v.a.container,children:Object(j.jsxs)("div",{className:v.a.events__container,children:[Object(j.jsx)(f,{}),m?Object(j.jsx)(H,{}):Object(j.jsxs)("div",{children:[Object(j.jsx)(g,{events:n,filteredEvents:_,setEvents:u,favouritesId:O,setFilteredEvents:u}),_.length?Object(j.jsx)(C,{events:_,favouritesId:O,setFavouritesId:x}):Object(j.jsx)("div",{className:v.a.empty__events,children:"Events wasn't found"})]})]})})};n(53);r.a.render(Object(j.jsx)(L,{}),document.getElementById("root"))},6:function(e,t,n){e.exports={event:"Event_event__1DTgd",event__title:"Event_event__title__1-Yga",event__favourite:"Event_event__favourite__3WbOc",event__date:"Event_event__date__1fp1M"}}},[[54,1,2]]]);
//# sourceMappingURL=main.b19c3f84.chunk.js.map