(this.webpackJsonpxsollafrontendschool2021=this.webpackJsonpxsollafrontendschool2021||[]).push([[0],{10:function(e,t,n){e.exports={events__filter:"Filter_events__filter__1Pzve",events__filter__title:"Filter_events__filter__title__2VUct",events__filter__selector:"Filter_events__filter__selector__2EEIH"}},11:function(e,t,n){e.exports={events__filters:"Filters_events__filters__1i8Ei",events__filters__reset:"Filters_events__filters__reset__leEGC",events__filters_favourite:"Filters_events__filters_favourite__jHP9V"}},14:function(e,t,n){e.exports={container:"App_container__1MQN3",events__container:"App_events__container__1monq"}},15:function(e,t,n){e.exports={events:"Events_events__1tkyw",empty__events:"Events_empty__events__PEDpo"}},26:function(e,t,n){e.exports={events__header:"Header_events__header__29t6t"}},52:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(24),a=n.n(r),i=n(13),c=n.n(i),o=n(25),_=n(3),v=n(14),l=n.n(v),u=n(26),f=n.n(u),j=n(0),d=function(){return Object(j.jsx)("div",{className:f.a.events__header,children:Object(j.jsx)("p",{children:"Event Listing"})})},b=n(4),O=n(10),p=n.n(O),x=function(e){var t=e.title,n=e.options,s=e.param,r=e.value,a=e.onChange,i={"01":"January","02":"Febuary","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"};return Object(j.jsxs)("div",{className:p.a.events__filter,children:[Object(j.jsx)("div",{className:p.a.events__filter__title,children:Object(j.jsxs)("p",{children:[t,":"]})}),Object(j.jsx)("select",{value:r,onChange:function(e){return a(e.target.value)},className:p.a.events__filter__selector,children:function(e,t){return e="date"===t?e.map((function(e,t){return Object(j.jsx)("option",{value:e,children:i[e]},t)})):e.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))}(n,s)})]})},m=n(11),h=n.n(m),E=function(e){var t=e.events,n=e.setEvents,r=e.filteredEvents,a=e.favouriteEvents,i=Object(s.useState)(""),c=Object(_.a)(i,2),o=c[0],v=c[1],l=Object(s.useState)(""),u=Object(_.a)(l,2),f=u[0],d=u[1],O=Object(s.useState)(!1),p=Object(_.a)(O,2),m=p[0],E=p[1],g=function(e,t){var n=[];return(n="date"===t?e.map((function(e){return e[t].slice(3,5)})):e.map((function(e){return e[t]}))).filter((function(e,t){return n.indexOf(e)===t}))};return Object(j.jsxs)("div",{className:h.a.events__filters,children:[Object(j.jsx)(x,{title:"City",param:"city",options:g(r,"city"),value:f,onChange:function(e){d(e),v(o),n(Object(b.a)(r).filter((function(t){return t.city===e})))}}),Object(j.jsx)(x,{title:"Month",param:"date",options:g(r,"date"),value:o,onChange:function(e){v(e),n(Object(b.a)(r).filter((function(t){return t.date.slice(3,5)===e})))}}),Object(j.jsxs)("div",{className:h.a.events__filters_favourite,children:[Object(j.jsx)("label",{htmlFor:"favourite",children:"Favourite"}),Object(j.jsx)("input",{checked:m,onChange:function(e){return s=e.target.checked,E(!m),void n(s?Object(b.a)(r).filter((function(e){return-1!==a.indexOf(e.id)})):t);var s},type:"checkbox",id:"favourite"})]}),Object(j.jsx)("button",{className:h.a.events__filters__reset,onClick:function(){console.log(m),n(t),v(""),d(""),E("")},children:"Reset filters"})]})},g=n.p+"static/media/favourie.405cea49.svg",N=n.p+"static/media/isFavourite.e1bc097d.svg",y=n(6),F=n.n(y),S=function(e){var t=e.event,n=e.favouriteEvents,s=e.setFavouriteEvents;return Object(j.jsxs)("div",{className:F.a.event,style:{backgroundImage:"url(".concat(t.image,")")},children:[Object(j.jsx)("div",{onClick:function(e){return function(e){-1!==n.indexOf(e)?(n=n.filter((function(t){return t!==e})),s(n),localStorage.setItem("favouriteEvents",JSON.stringify(n))):(s([].concat(Object(b.a)(n),[e])),localStorage.setItem("favouriteEvents",JSON.stringify([].concat(Object(b.a)(n),[e]))))}(e.target.id)},className:F.a.event__favourite,children:-1!==n.indexOf(t.id)?Object(j.jsx)("img",{id:t.id,src:N,alt:"favourite button"}):Object(j.jsx)("img",{id:t.id,src:g,alt:"favourite button"})}),Object(j.jsx)("div",{className:F.a.event__date,children:Object(j.jsx)("p",{children:t.date.slice(0,2)})}),Object(j.jsx)("p",{className:F.a.event__title,children:t.name})]})},k=n(15),C=n.n(k),J=function(e){var t=e.events,n=e.favouriteEvents,s=e.setFavouriteEvents;return Object(j.jsx)("div",{className:C.a.events,children:t.length?t.map((function(e){return Object(j.jsx)(S,{favouriteEvents:n,setFavouriteEvents:s,event:e},e.id)})):Object(j.jsx)("div",{className:C.a.empty__events,children:"Empty events!"})})},w=n(27),I=n.n(w);var M=function(){Object(s.useEffect)((function(){x()}),[]);var e=Object(s.useState)([]),t=Object(_.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)([]),i=Object(_.a)(a,2),v=i[0],u=i[1],f=Object(s.useState)(JSON.parse(localStorage.getItem("favouriteEvents"))||[]),b=Object(_.a)(f,2),O=b[0],p=b[1],x=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json");case 2:t=e.sent,r(t.data),u(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:l.a.container,children:Object(j.jsxs)("div",{className:l.a.events__container,children:[Object(j.jsx)(d,{}),Object(j.jsx)(E,{events:n,filteredEvents:v,setEvents:u,favouriteEvents:O}),Object(j.jsx)(J,{events:v,favouriteEvents:O,setFavouriteEvents:p})]})})};a.a.render(Object(j.jsx)(M,{}),document.getElementById("root"))},6:function(e,t,n){e.exports={event:"Event_event__1DTgd",event__title:"Event_event__title__1-Yga",event__favourite:"Event_event__favourite__3WbOc",event__date:"Event_event__date__1fp1M"}}},[[52,1,2]]]);
//# sourceMappingURL=main.e7303c76.chunk.js.map